<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>JQuery Mobile First Page</title>

    <!--<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>-->


    <link href="Scripts/jquery.mobile-1.4.5.css" rel="stylesheet" />
    <script src="Scripts/jquery-1.11.1.js"></script>
    <script src="Scripts/jquery.mobile-1.4.5.js"></script>
</head>
<body>

    <div data-role="page">
        <div data-role="header">
            <h1>Başlık</h1>
        </div>

        <div data-role="main">
            <h2>İçerik</h2>

            <ul data-role="listview" data-insert="true" data-filter="true">
                <li><a href="publicpage.html" data-rel="dialog"> first link</a></li>
                <li><a> second link</a></li>
                <li><a> third link</a></li>
            </ul>

            <a href="publicpage.html" data-role="button" data-theme="b">Normal Buton</a>
            <a href="publicpage.html" data-rel="dialog" data-role="button" data-theme="b">Dialog Button</a>

            <select name="state" data-role="slider" data-theme="e" data-track-theme="b">
                <option value="1">Open</option>
                <option value="0">Close</option>
            </select>


            <a href="#" onclick="testAjax()" data-role="button" data-theme="d">AJAX REQUEST</a>

            <ul data-role="listview" id="list">
                
            </ul>


        </div>

        <div data-role="footer" data-position="fixed">
            <h5>Açıklama</h5>
        </div>
    </div>

</body>
</html>

<script>

    function testAjax()
    {
        console.log('fonksiyondayız. Ajax başlıyor...');
        var x = $('#list');
        $.ajax({
            url: 'http://localhost:50890/',
            method: 'get',
            success: function (res) {
                console.log('başarılı : ' + res.length);

                for (i = 0; i < 5; i++) {
                    x.append('<li><a href="#test">İçerik ' + i + '</a></li>');
                }
            },
            error: function (err) {
                console.log('başarısız : ' + err);

                
               // $('#list').append('<li>içerik 1</li><li>içerik 2</li><li>içerik 3</li><li>içerik 4</li>');

                //$.each(arr, function (index, value) {
                //    sum += value;
                //});

                for (i = 0; i < 5; i++) {
                    x.append('<li>İçerik ' + i + '</li>');
                }
            }

        });

        console.log('Ajax bitti...');
    };

</script>